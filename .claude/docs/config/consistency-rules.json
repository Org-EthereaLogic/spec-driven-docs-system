{
  "version": "2.0",
  "description": "Global consistency rules for technical documentation. Rules are derived from CONSTITUTION.md principles and DIRECTIVES.md enforcement levels.",

  "governance": {
    "constitution": "CONSTITUTION.md",
    "directives": "DIRECTIVES.md",
    "description": "This file implements the consistency enforcement layer. See DIRECTIVES.md for priority levels and CONSTITUTION.md for underlying principles."
  },

  "directive_priorities": {
    "description": "Mapping of rule categories to directive priority levels",
    "critical": {
      "description": "Violations block operations via pre_write hook",
      "categories": ["forbidden_patterns"]
    },
    "important": {
      "description": "Violations generate warnings via post_write hook",
      "categories": ["terminology", "style"]
    },
    "recommended": {
      "description": "Guidance only, no automated enforcement",
      "categories": ["formatting"]
    }
  },

  "terminology": {
    "description": "Enforced terminology - use the key, avoid the alternatives. Note: Common technical terms with multiple valid meanings (path, run, method, call) are intentionally excluded to prevent false positives.",
    "enforced_terms": {
      "endpoint": ["route", "API URL"],
      "request": ["API call"],
      "response": ["return value"],
      "authenticate": ["login", "sign in", "log in"],
      "authorize": ["check access", "verify permissions"],
      "parameter": ["param", "arg", "argument"],
      "configuration": ["config", "settings"],
      "initialize": ["init", "bootstrap"],
      "repository": ["repo"],
      "directory": ["folder", "dir"],
      "function": ["procedure", "routine"]
    }
  },

  "style": {
    "header_case": "sentence",
    "code_language_hints": true,
    "max_heading_depth": 4,
    "list_style": "dash",
    "code_block_style": "fenced",
    "link_style": "inline",
    "emphasis_style": "asterisk"
  },

  "formatting": {
    "max_line_length": 120,
    "trailing_newline": true,
    "consistent_spacing": true,
    "table_alignment": "left"
  },

  "forbidden_patterns": {
    "description": "Patterns that must never appear in final documentation. Priority: Critical (blocks writes).",
    "principle": "Transparency Over Efficiency (CONSTITUTION.md Section 5)",
    "patterns": [
      "TODO",
      "FIXME",
      "TBD",
      "XXX",
      "HACK",
      "WIP",
      "placeholder",
      "lorem ipsum",
      "example.com",
      "foo",
      "bar",
      "baz",
      "your-",
      "<your",
      "[your",
      "{your"
    ],
    "patterns_with_exceptions": {
      "...": {
        "description": "Ellipsis is forbidden except in Python Protocol/ABC abstract method bodies (PEP 544)",
        "exception_context": "Valid when standalone in method body preceded by def, inside Protocol or ABC class",
        "enforcement": "Contextual validation in doc_pre_write.py"
      }
    }
  },

  "required_elements": {
    "api_docs": {
      "sections": ["Overview", "Authentication", "Endpoints", "Error Handling"],
      "per_endpoint": ["method", "path", "description", "parameters", "response"]
    },
    "design_docs": {
      "sections": ["Problem Statement", "Proposed Solution", "Alternatives Considered", "Implementation Plan"]
    },
    "manual": {
      "sections": ["Introduction", "Getting Started", "Core Concepts", "How-To Guides"]
    }
  },

  "cross_reference_rules": {
    "validate_internal_links": true,
    "validate_external_links": false,
    "auto_fix_broken_anchors": true,
    "require_link_titles": false
  }
}
