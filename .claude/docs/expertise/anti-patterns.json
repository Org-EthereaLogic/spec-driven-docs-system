{
  "version": "1.2",
  "last_updated": "2025-12-08T00:00:00Z",
  "description": "Documentation anti-patterns to avoid",

  "anti_patterns": [
    {
      "id": "specification-as-implementation",
      "category": "all",
      "description": "Describing HOW to build rather than WHAT to achieve",
      "detection_pattern": "Specification contains class names, adapter patterns, internal architecture, or implementation details",
      "severity": "blocker",
      "correction": "Rewrite to describe desired outcomes and user-facing behavior. Let implementers choose the approach.",
      "example_bad": "Implement adapter pattern with base class and 5 provider implementations, each with retry logic and circuit breakers",
      "example_good": "Users can authenticate via any supported identity provider with automatic retry on transient failures",
      "rationale": "SynthAI expanded from 150 to 7,900 lines because specs dictated implementation. Outcome focus enables minimal implementations."
    },
    {
      "id": "premature-exhaustiveness",
      "category": "all",
      "description": "Documenting every possible case before knowing which matter",
      "detection_pattern": "Documentation covers ALL error codes, ALL edge cases, ALL configuration options without evidence these are needed",
      "severity": "warning",
      "correction": "Start with common cases. Add edge cases when they appear in real usage or support requests.",
      "example_bad": "Document all 47 possible error codes with recovery steps for each",
      "example_good": "Document the 5 errors users commonly encounter. Add others as they appear in support tickets.",
      "rationale": "Comprehensive documentation of hypothetical cases creates maintenance burden without serving readers."
    },
    {
      "id": "enterprise-pattern-contamination",
      "category": "design-documentation",
      "description": "Applying enterprise patterns to simple tools",
      "detection_pattern": "Documentation requires circuit breakers, service registries, rollback managers, audit loggers for non-enterprise use cases",
      "severity": "warning",
      "correction": "Match pattern complexity to problem complexity. A simple tool needs simple patterns.",
      "example_bad": "Implement service registry with weighted scoring, circuit breakers per provider, rollback manager with state restoration",
      "example_good": "Call the three providers sequentially. If one fails, use try/except and continue with the others.",
      "rationale": "Enterprise patterns for local development tools create 40x code expansion without proportional benefit."
    },
    {
      "id": "false-positive-protocol-ellipsis",
      "category": "design-documentation",
      "description": "Flagging valid Python Protocol/ABC ellipsis syntax as placeholder content",
      "detection_pattern": "Review flagging '...' in Python code blocks inside Protocol or ABC class definitions",
      "severity": "blocker",
      "correction": "Validate context before flagging ellipsis: check if preceded by def statement within 5 lines AND inside class inheriting from Protocol or ABC. Ellipsis is valid PEP 544 syntax for abstract method stubs.",
      "occurrence_count": 1,
      "resolution": "Added python_protocol_ellipsis exception to quality-gates.json",
      "source_document": "enhanced-adws-v1.0/04_software_design_document.md"
    },
    {
      "id": "vague-parameters",
      "category": "api-documentation",
      "description": "Parameter descriptions that only restate the parameter name",
      "detection_pattern": "Parameter `{name}` is the {name}",
      "severity": "warning",
      "correction": "Describe what the parameter controls, valid values/ranges, defaults, and side effects",
      "example_bad": "| user_id | The user ID |",
      "example_good": "| user_id | Unique identifier for the user account. Must be a valid UUID v4. |"
    },
    {
      "id": "missing-error-handling",
      "category": "api-documentation",
      "description": "API documentation without error response examples",
      "detection_pattern": "Endpoint documentation missing error codes section",
      "severity": "blocker",
      "correction": "Include at least common error responses (400, 401, 404, 500) with example bodies"
    },
    {
      "id": "wall-of-text",
      "category": "all",
      "description": "Long paragraphs without structure or formatting",
      "detection_pattern": "Paragraph with >200 words without headers, lists, or code blocks",
      "severity": "warning",
      "correction": "Break into smaller sections, use bullet points for lists, add code examples"
    },
    {
      "id": "orphan-code-blocks",
      "category": "all",
      "description": "Code examples without explanation or context",
      "detection_pattern": "Code block not preceded by explanatory text",
      "severity": "warning",
      "correction": "Add a brief introduction explaining what the code does and when to use it"
    },
    {
      "id": "assumed-knowledge",
      "category": "user-manual",
      "description": "Documentation that assumes too much prior knowledge",
      "detection_pattern": "References to concepts not defined in document or prerequisites",
      "severity": "warning",
      "correction": "Either define the concept, link to prerequisite docs, or list in Prerequisites section"
    },
    {
      "id": "stale-screenshots",
      "category": "user-manual",
      "description": "Screenshots that don't match current UI",
      "detection_pattern": "Manual review required",
      "severity": "warning",
      "correction": "Update screenshots when UI changes, include version/date in caption"
    },
    {
      "id": "circular-references",
      "category": "all",
      "description": "Documentation that references itself without adding value",
      "detection_pattern": "Link that points to same document section",
      "severity": "suggestion",
      "correction": "Remove circular references or replace with actual content"
    },
    {
      "id": "implementation-details",
      "category": "user-manual",
      "description": "Exposing internal implementation details to end users",
      "detection_pattern": "References to internal class names, database schemas, or code paths",
      "severity": "warning",
      "correction": "Focus on user-facing behavior and concepts, not internal implementation"
    },
    {
      "id": "passive-voice-overuse",
      "category": "all",
      "description": "Excessive use of passive voice making instructions unclear",
      "detection_pattern": "Multiple instances of 'is done', 'was created', 'should be'",
      "severity": "suggestion",
      "correction": "Use active voice: 'Click the button' not 'The button should be clicked'"
    },
    {
      "id": "version-mismatch",
      "category": "api-documentation",
      "description": "Documentation that references wrong API version",
      "detection_pattern": "Version numbers in code don't match header version",
      "severity": "blocker",
      "correction": "Ensure all version references are consistent and current"
    }
  ]
}
